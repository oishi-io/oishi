<div
  class="landing"
  id="home"
  v-cloak
>
  <section class="headline">
    <h1 class="headline__main">Cuisine japonaise </h1>
    <h1 class="headline__sub">Simple</h1>
  </section>
  
  <div class="section-search">
      <form novalidate="novalidate" >
        <div role="search" class="search">
          <input
            v-on:input="query = $event.target.value"
            type="search"
            name="query"
            v-model="query"
            id="landing-search"
          >
          <button type="reset" title="Annuler" v-on:click="clearQuery">
            <%= svg 'delete' %>
          </button>
        </div>
      </form>
    <div class="recipe__box">
      <div
        v-if="recipesCount === 0 && !isLoading"
        class="recipe__box--no-result"
      >
        <span>
          <p>Aucune recette trouv√©e</p>
          <a href="/recipes">Voir toutes les recettes</a>
        </span>
      </div>
      <div
        v-else
        name="recipe-cards"
        class="recipe__box--scroll-wrapper"
        v-bind:style="{ marginLeft: leftMargin }"
      >
        <div
          v-for="recipe in recipes"
          v-bind:key="recipe.id"
          class="recipe__box__card"
        >
          <a :href="recipeUrl(recipe.slug)" class="recipe__box__card__link">
            <h2>{{ recipe.name }}</h2>
            <div
              class="recipe-image"
              :style='{ backgroundImage: `url("${recipe.image_url}")` }'
              >
              <div class="recipe__card__info">
                <p>{{ recipe.preparation_time }}min</p>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<% content_for :after_js do %>
  <%= javascript_pack_tag 'home' %>
<% end %>
